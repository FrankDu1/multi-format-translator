# Docker Compose 环境变量配置
# 复制此文件为 .env 并修改配置
# Docker Compose 会自动读取 .env 文件

# ============ 容器配置 ============
# 容器名称
CONTAINER_NAME=translator-api

# 主机端口映射（宿主机端口:容器端口）
HOST_PORT=29003

# GPU 数量
GPU_COUNT=1

# CUDA 设备 ID（0 表示第一个 GPU）
CUDA_VISIBLE_DEVICES=0

# ============ Flask 配置 ============
# 容器内服务端口
FLASK_PORT=29003

# 监听地址（容器内保持 0.0.0.0）
FLASK_HOST=0.0.0.0

# 调试模式（生产环境建议 false）
FLASK_DEBUG=false

# ============ 服务地址配置 ============
# OCR 服务地址
# 提示：如果 OCR 服务也在 Docker 网络中，使用服务名，如 http://ocr-service:29001/ocr
OCR_SERVICE_URL=http://47.97.97.198:29001/ocr

# Inpaint 服务地址
# 提示：如果 Inpaint 服务也在 Docker 网络中，使用服务名，如 http://inpaint-service:29002/inpaint
INPAINT_SERVICE_URL=http://localhost:29002/inpaint

# 是否使用 Inpaint 服务
USE_INPAINT=true

# ============ 文件配置 ============
# 上传文件目录（容器内路径）
UPLOAD_FOLDER=uploads

# 最大文件大小（字节）
MAX_FILE_SIZE=10485760

# ============ 模型配置 ============
# NLLB 翻译模型
NLLB_MODEL=facebook/nllb-200-distilled-600M

# 可选模型：
# - facebook/nllb-200-distilled-600M (600MB, 推荐)
# - facebook/nllb-200-distilled-1.3B (1.3GB, 更好效果)
# - facebook/nllb-200-3.3B (3.3GB, 最佳效果)

# ============ 字体配置 ============
# Docker 内字体路径（使用 Linux 字体）
FONT_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf

# 字体大小
FONT_SIZE=20

# ============ 镜像配置 ============
# HuggingFace 镜像地址
HF_ENDPOINT=https://hf-mirror.com

# PyPI 镜像地址
PIP_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple

# ============ GPU 配置 ============
# PyTorch CUDA 内存分配配置
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# ============ 日志配置 ============
# 日志级别（DEBUG, INFO, WARNING, ERROR）
LOG_LEVEL=INFO

# ============ 使用说明 ============
# 1. 复制此文件为 .env
# 2. 修改需要的配置项
# 3. 运行: docker-compose up -d
# 4. 查看日志: docker-compose logs -f
# 5. 停止服务: docker-compose down
